
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Command line interface &#8212; graynet 0.4.7 documentation</title>
    <link rel="stylesheet" href="_static/pd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Convenience/useful scripts" href="extra_scripts.html" />
    <link rel="prev" title="Volumetric graynet" href="volumetric.html" />
    <script type="text/javascript" src="_static/pd.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

  </head><body>
    <div id="header">
        <h1>graynet 0.4.7 documentation</h1>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
        <ul>
            <li class="nav-item nav-item-0"><a href="index.html">graynet 0.4.7 documentation</a> &#187;
            </li>
        </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
<div class="section" id="command-line-interface">
<h1>Command line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h1>
<p>The command line interface for graynet (preferred interface, given its target is HPC) is shown below. Check the bottom of this page for examples.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">graynet</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">s</span> <span class="n">SUBJECT_IDS_PATH</span> <span class="o">-</span><span class="n">i</span> <span class="n">INPUT_DIR</span>
               <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="p">[</span><span class="n">FEATURES</span> <span class="p">[</span><span class="n">FEATURES</span> <span class="o">...</span><span class="p">]]]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUT_DIR</span><span class="p">]</span>
               <span class="p">[</span><span class="o">-</span><span class="n">w</span> <span class="p">[</span><span class="n">WEIGHT_METHODS</span> <span class="p">[</span><span class="n">WEIGHT_METHODS</span> <span class="o">...</span><span class="p">]]]</span>
               <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="p">[</span><span class="n">ROI_STATS</span> <span class="p">[</span><span class="n">ROI_STATS</span> <span class="o">...</span><span class="p">]]]</span> <span class="p">[</span><span class="o">-</span><span class="n">m</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">b</span> <span class="n">NUM_BINS</span><span class="p">]</span>
               <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="nb">min</span> <span class="nb">max</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="p">[</span><span class="n">SUMMARY_STAT</span> <span class="p">[</span><span class="n">SUMMARY_STAT</span> <span class="o">...</span><span class="p">]]]</span>
               <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="p">[</span><span class="nb">min</span> <span class="nb">max</span> <span class="p">[</span><span class="nb">min</span> <span class="nb">max</span> <span class="o">...</span><span class="p">]]]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span> <span class="n">ATLAS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">NODE_SIZE</span><span class="p">]</span>
               <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="n">SMOOTHING_PARAM</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="n">NUM_PROCS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="Named Arguments">
<h2>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h2>
<dl class="option-list">
<dt><kbd>-s, --subject_ids_path</kbd></dt>
<dd><p>Path to file containing list of subject IDs (one per line)</p>
</dd>
<dt><kbd>-i, --input_dir</kbd></dt>
<dd><p>Path to a folder containing input data. It could, for example, be a Freesurfer SUBJECTS_DIR, if the chosen feature is from Freesurfer output.</p>
</dd>
<dt><kbd>-f, --feature</kbd></dt>
<dd><p>Type of feature to be used for analysis. Default: ‘freesurfer_thickness’. Choices: (‘freesurfer_thickness’, ‘freesurfer_sulc’, ‘freesurfer_curv’, ‘freesurfer_area’, ‘freesurfer_pial_area’, ‘freesurfer_pial_lgi’, ‘freesurfer_jacobian_white’, ‘freesurfer_volume’, ‘gmdensity’, ‘spm_cat_gmdensity’, ‘spm_cat_wmdensity’)</p>
</dd>
<dt><kbd>-o, --out_dir</kbd></dt>
<dd><p>Where to save the extracted features.</p>
</dd>
</dl>
</div>
<div class="section" id="Type of computation">
<h2>Type of computation<a class="headerlink" href="#Type of computation" title="Permalink to this headline">¶</a></h2>
<p>Choose one among single edge, multiedge or simply ROI stats.</p>
<dl class="option-list">
<dt><kbd>-w, --weight_method</kbd></dt>
<dd><p>List of methods used to estimate the weight of the edge between the pair of nodes.</p>
</dd>
<dt><kbd>-r, --roi_stats</kbd></dt>
<dd><p>Option to compute summary statistics within each ROI of the chosen parcellation. These statistics (such as the median) can serve as a baseline for network-level values produced by graynet. Options for summary statistics include ‘median’, ‘entropy’, ‘kurtosis’ and any other appropriate summary statistics listed under scipy.stats:  <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/stats.html#statistical-functions">https://docs.scipy.org/doc/scipy/reference/stats.html#statistical-functions</a> . When this option is chosen, network computation is not allowed. You need to compute networks and ROI stats separately.</p>
</dd>
<dt><kbd>-m, --do_multi_edge</kbd></dt>
<dd><p>Option to compute multiple edges between ROIs based on different features. Default False. If True, two valid features must be specified. Use –multi_edge_range to specify edge ranges for each feature to be processed.</p>
</dd>
</dl>
</div>
<div class="section" id="Weight parameters">
<h2>Weight parameters<a class="headerlink" href="#Weight parameters" title="Permalink to this headline">¶</a></h2>
<p>Parameters relevant to histogram edge weight calculations</p>
<dl class="option-list">
<dt><kbd>-b, --num_bins</kbd></dt>
<dd><p>Number of bins used to construct the histogram within each ROI or group. Default : 25</p>
</dd>
<dt><kbd>-e, --edge_range</kbd></dt>
<dd><p>The range of edges (two finite values) within which to bin the given values e.g. –edge_range 0.0 5.0 .Setting this is <em>crucial</em> to ensure correspondence across multiple invocations of graynet, for different subjects, in terms of range across all bins as well as individual bin edges. Default : None, to automatically compute from the given values.</p>
</dd>
</dl>
</div>
<div class="section" id="Multi-edge">
<h2>Multi-edge<a class="headerlink" href="#Multi-edge" title="Permalink to this headline">¶</a></h2>
<p>Parameters related to computation of multiple edges</p>
<dl class="option-list">
<dt><kbd>-t, --summary_stat</kbd></dt>
<dd><p>Summary statistic [one or more] to compute on all the weights from multiple edges.This must be a string representing a method (like ‘median’, ‘prod’ or ‘max’),  that is available as a member of numpy or scipy.stats.</p>
</dd>
<dt><kbd>-l, --multi_edge_range</kbd></dt>
<dd><p>Set of edge ranges (for each of the features) within which to bin the given values - see above. e.g. -f freesurfer_thickness freesurfer_curv –edge_range 0.0 5.0 -0.3 +0.3 will set the a range of [0.0, 5.0] for thickness and [-0.3, 0.3] for curvature.Default : {‘freesurfer_thickness’: (0.0, 5.0), ‘freesurfer_curv’: (-0.3, 0.3), ‘freesurfer_sulc’: (-1.5, 1.5), ‘freesurfer_area’: (0.0, 1.5)}.</p>
</dd>
</dl>
</div>
<div class="section" id="Atlas">
<h2>Atlas<a class="headerlink" href="#Atlas" title="Permalink to this headline">¶</a></h2>
<p>Parameters describing the atlas, its parcellation and any smoothing of features.</p>
<dl class="option-list">
<dt><kbd>-a, --atlas</kbd></dt>
<dd><p>Name or path to atlas to containing the parcellation of ROIs.
For cortical features, you can also specify the absolute path for the Freesurfer parcellation of that atlas. This directory must have the standard Freesurfer structure, with the following key files that must exist: <code class="docutils literal notranslate"><span class="pre">label/?h.aparc.annot</span></code> and <code class="docutils literal notranslate"><span class="pre">surf/?h.orig</span></code>.</p>
<p><em>Cortical</em> atlases supported: <code class="docutils literal notranslate"><span class="pre">fsaverage</span></code> and <code class="docutils literal notranslate"><span class="pre">glasser2016</span></code>. In addition, you can also specify an absolute path to the Freesurfer processing of any arbitrary atlas. Read these instructions before trying: <a class="reference external" href="https://raamana.github.io/graynet/cortical.html#using-a-different-atlas">https://raamana.github.io/graynet/cortical.html#using-a-different-atlas</a></p>
<p><em>Volumetric</em> atlases supported for CAT12 features: <code class="docutils literal notranslate"><span class="pre">cat_aal</span></code>, <code class="docutils literal notranslate"><span class="pre">cat_lpba40</span></code>, and <code class="docutils literal notranslate"><span class="pre">cat_ibsr</span></code>.In addition, you can also directly specify an absolute path to a single 3D volume. Make sure name this file properly as itwould be used to encode all the processing i.e. make it clean as well as fully reflective of the properties of the parcellation inside.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">fsaverage</span></code></p>
</dd>
<dt><kbd>-n, --node_size</kbd></dt>
<dd><p>Size of individual node for the atlas parcellation. Default : None</p>
</dd>
<dt><kbd>-p, --smoothing_param</kbd></dt>
<dd><p>Smoothing parameter for feature. Default: FWHM of 10 for Freesurfer thickness</p>
</dd>
</dl>
</div>
<div class="section" id="Computing">
<h2>Computing<a class="headerlink" href="#Computing" title="Permalink to this headline">¶</a></h2>
<p>Options related to computing and parallelization.</p>
<dl class="option-list">
<dt><kbd>-c, --num_procs</kbd></dt>
<dd><p>Number of CPUs to use in parallel to speed up processing. Default : 2, capping at available number of CPUs in the processing node.</p>
</dd>
<dt><kbd>-d, --overwrite_results</kbd></dt>
<dd><p>Flag to request overwriting of existing results, in case of reruns/failed jobs. By default, if the expected output file exists and is of non-zero size, its computation is skipped (assuming the file is complete, usable and not corrupted).</p>
</dd>
<dt><kbd>-v, --version</kbd></dt>
<dd><p>show program’s version number and exit</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="simple-example">
<h1>Simple example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h1>
<p>A rough example of usage can be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#$ -l mf=2G -q queue_name.q -wd /work/project</span>
<span class="nb">cd</span> /work/project
graynet -s subject_ids.txt -f freesurfer_thickness -i /work/project/freesurfer_reconall <span class="se">\</span>
    -w manhattan eucledian chebyshev -a GLASSER2016 -p <span class="m">10</span> -o /work/project/graynet_processing
</pre></div>
</div>
<p>Note you can specify mulitple weight metrics to save on I/O activity and walltime on HPC.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Command line interface</a><ul>
<li><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
<li><a class="reference internal" href="#Type of computation">Type of computation</a></li>
<li><a class="reference internal" href="#Weight parameters">Weight parameters</a></li>
<li><a class="reference internal" href="#Multi-edge">Multi-edge</a></li>
<li><a class="reference internal" href="#Atlas">Atlas</a></li>
<li><a class="reference internal" href="#Computing">Computing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simple-example">Simple example</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="volumetric.html"
                        title="previous chapter">Volumetric graynet</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="extra_scripts.html"
                        title="next chapter">Convenience/useful scripts</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage_cli.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Pradeep Reddy Raamana.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>